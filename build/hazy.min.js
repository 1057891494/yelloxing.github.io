/*!
* yelloxing.github.io Sprout2.0.0 hazy
* https://yelloxing.github.io
* 
* Copyright 心叶 and other contributors
* 
* Released under the Apache-2.0
* 
* Sprout 新芽 V2
* 
* Date: 2017-09-26
*/

!function(e,t,n){"use strict";if(!e||!e.document)throw new Error("Hazy requires a window with a document!");t(e)}(window,function(e){"use strict";var t=function(e,n){return new t.prototype.init(e,n)};t.prototype.init=function(e,r,i){if(i=i||n,r=r?t(r)[0]:document,this.length=0,this.context=r,this.selector=e,!e)return this;if("body"==e)return this.context=document,this[0]=document.body,this.isTouch=!0,this.length=1,this;if("string"==typeof e){if(t.isHtmlTemplate(e)){var o=document.createElement("div");return o.innerHTML=e,this[0]=o.childNodes[0],this.isTouch=!0,this.length=1,this.context=void 0,this}if(t.isCssSelect(e)){if(this.isTouch=!0,/^#[_\w$](?:[_\w\d$]|-)*$/.test(e)){var s=r.getElementById(new String(e).replace(/^#/,""));!s||1!==s.nodeType&&11!==s.nodeType&&9!==s.nodeType?this.length=0:(this[0]=s,this.length=1)}else if(/^[_\w$](?:[_\w\d$]|-)*$/.test(e)){var l=r.getElementsByTagName(e),c=0;for(len=0,s=void 0;c<l.length;c++)1!==(s=l[c]).nodeType&&11!==s.nodeType&&9!==s.nodeType||(this[len]=s,len+=1);this.length=len}return this}throw new Error("Illegal argument value！")}if(1===e.nodeType||11===e.nodeType||9===e.nodeType)return this.context=r,this[0]=e,this.isTouch=!0,this.length=1,this;if("function"==typeof e)return t.__isLoad__?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function n(){document.removeEventListener("DOMContentLoaded",n,!1),e(),t.__isLoad__=!0}):document.attachEvent&&document.attachEvent("onreadystatechange",function n(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),e(),t.__isLoad__=!0)}),this;if(e.isTouch){this.isTouch=!0;for(c=0;c<e.length;c++)this[c]=e[c];return this.context=e.context||r,this.length=e.length,this.selector=e.selector,this}return this};var n=t(document);t.prototype.extend=t.extend=function(){var e=arguments[0]||{},t=arguments[1]||{};1===arguments.length&&(t=e,e=this),"object"!=typeof e&&"function"!=typeof e&&(e={});for(var n in t)try{e[n]=t[n]}catch(e){throw new Error("Illegal property value！")}return e},t.prototype.init.prototype=t.prototype,t.__isLoad__=!1,e.Hazy=e.$=t,t.extend({isHtmlTemplate:function(e){return e=e.trim().replace(/[\n\f\r]/g,""),!!/^<([^<> ]+)[^<>]*><\/\1>$/.test(e)},isCssSelect:function(e){return!!/^#?[_\w$](?:[_\w\d$]|-)*$/.test(selector)}}),t.extend({outerHTML:function(e){return e.outerHTML||function(e){var t,n=document.createElement("div");return n.appendChild(e),t=n.innerHTML,n=null,t}(e)},uniqueClass:function(){for(var e="",t=0;t<arguments.length;t++){if("string"!=typeof arguments[t])throw new Error("Only string is valid,not project!");e+=arguments[t]+" "}var n={};(e=e.trim()).split(/ +/).forEach(function(e){n[e]=!0},this),e="";for(var r in n)n[r]&&(e+=r+" ");return e.trim()},operateClass:function(e,t,n){if("string"!=typeof e||"string"!=typeof t)throw new Error("Only string is valid,not project!");e=e.trim(),t=t.trim();var r=e.split(/ +/),i=t.split(/ +/),o={};r.forEach(function(e){o[e]=!0},this),i.forEach(function(e){o[e]=!n&&!o[e]},this);var s="";for(var l in o)o[l]&&(s+=l+" ");return s.trim()}}),t.prototype.extend({bind:function(n,r,i){var o=t(this);return e.attachEvent?o[0].attachEvent("on"+n,r):(i=i||!1,o[0].addEventListener(n,r,i)),o},unbind:function(n,r,i){var o=t(this);return e.detachEvent?o[0].detachEvent("on"+n,r):(i=i||!1,o[0].removeEventListener(n,r,i)),o}}),t.prototype.extend({html:function(e){var n=t(this);return""==e||e?(n[0].innerHTML=e,n):n[0].innerHTML},text:function(e){var n=t(this);return e?(n[0].innerText=e,n):n[0].innerText},val:function(e){var n=t(this);return e?(n[0].value=e,n):n[0].value},attr:function(e,n){var r=t(this);return n?(r[0].setAttribute(e,n),r):r[0].getAttribute(e)},addClass:function(e){var n=t(this);if("string"==typeof e&&e)for(var r=0,i="",o=void 0;o=n[r++];){i=o.getAttribute("class")||"";var s=t.uniqueClass(i,e);o.setAttribute("class",s)}return n},removeClass:function(e){var n=t(this);if("string"==typeof e&&e)for(var r=0,i="",o=void 0;o=n[r++];){i=o.getAttribute("class")||"";var s=t.operateClass(i,e,!0);o.setAttribute("class",s)}return n},toggleClass:function(e){var n=t(this);if("string"==typeof e&&e)for(var r=0,i="",o=void 0;o=n[r++];){i=o.getAttribute("class")||"";var s=t.operateClass(i,e);o.setAttribute("class",s)}return n},class:function(e){var n=t(this);if("string"!=typeof e||!e)return n[0].getAttribute("class")||"";for(var r=0,i=void 0;i=n[r++];)i.setAttribute("class",t.uniqueClass(e));return n},css:function(e,n){var r=t(this);if("string"==typeof e&&1===arguments.length)return r[0].style[e];if("string"==typeof e&&"string"==typeof n)r[0].style[e]=n;else{if("object"!=typeof e)throw new Error("Not acceptable type!");for(var i in e)r[0].style[i]=e[i]}return r},append:function(e){var n=t(this);if(1===e.nodeType||11===e.nodeType||9===e.nodeType)n[0].appendChild(e);else if(e.isTouch)n[0].appendChild(e[0]);else{if("string"!=typeof e)throw new Error("Not acceptable type!");n[0].appendChild(t(e)[0])}return n},prepend:function(e){var n=t(this);if(1===e.nodeType||11===e.nodeType||9===e.nodeType)n[0].insertBefore(e,n[0].childNodes[0]);else if(e.isTouch)n[0].insertBefore(e[0],n[0].childNodes[0]);else{if("string"!=typeof e)throw new Error("Not acceptable type!");n[0].insertBefore(t(e)[0],n[0].childNodes[0])}return n},after:function(e){var n=t(this),r=n[0].parentNode||t("body")[0];if(1===e.nodeType||11===e.nodeType||9===e.nodeType)r.insertBefore(e,n[0].nextSibling);else if(e.isTouch)r.insertBefore(e[0],n[0].nextSibling);else{if("string"!=typeof e)throw new Error("Not acceptable type!");r.insertBefore(t(e)[0],n[0].nextSibling)}return n},before:function(e){var n=t(this),r=n[0].parentNode||t("body")[0];if(1===e.nodeType||11===e.nodeType||9===e.nodeType)r.insertBefore(e,n[0]);else if(e.isTouch)r.insertBefore(e[0],n[0]);else{if("string"!=typeof e)throw new Error("Not acceptable type!");r.insertBefore(t(e)[0],n[0])}return n},remove:function(){var e=t(this);return(e[0].parentNode||t("body")[0]).removeChild(e[0]),e},empty:function(){var e=t(this);return e.html(""),e}}),t.prototype.extend({parent:function(){for(var e=t(this),n=0,r=void 0,i=null;r=e[n];){i=r;do{i=i.parentNode,e[n]=i&&i.nodeType===1?i:null}while(i.parentNode&&!e[n]);n++}return e.selector=e.selector+":parent",e},parents:function(){var e=t(this),n=e[0];e.length=0;do{(n=n.parentNode)&&1===n.nodeType&&(e[e.length]=n,e.length+=1)}while(n);return e.selector=e.selector+":parents",e},children:function(){var e=t(this),n=e[0].childNodes,r=0,i=void 0;for(e.length=0;i=n[r];)i&&1===i.nodeType&&(e[e.length]=i,e.length++),r++;return e.selector=e.selector+":children",e},siblings:function(){var e=t(this),n=e.parent();return e.selector=e.selector+":siblings",t(n[0]).children()},next:function(){for(var e=t(this),n=0,r=void 0,i=null;r=e[n];){i=r;do{i=i.nextSibling,e[n]=i&&i.nodeType===1?i:null}while(i.nextSibling&&!e[n]);n++}return e.selector=e.selector+":next",e},nextAll:function(){var e=t(this),n=e[0];e.length=0;do{(n=n.nextSibling)&&1===n.nodeType&&(e[e.length]=n,e.length+=1)}while(n);return e.selector=e.selector+":nextAll",e},prev:function(){for(var e=t(this),n=0,r=void 0,i=null;r=e[n];){i=r;do{i=i.previousSibling,e[n]=i&&i.nodeType===1?i:null}while(i.previousSibling&&!e[n]);n++}return e.selector=e.selector+":prev",e},prevAll:function(){var e=t(this),n=e[0];e.length=0;do{(n=n.previousSibling)&&1===n.nodeType&&(e[e.length]=n,e.length+=1)}while(n);return e.selector=e.selector+":prevAll",e},find:function(e){var n=t(this);return t(e,n[0])},first:function(){var e=t(this);return e[0]?e.length=1:e.length=0,e.selector=e.selector+":first",e},last:function(){var e=t(this);return e[e.length-1]?(e[0]=e[e.length-1],e.length=1):e.length=0,e.selector=e.selector+":last",e},eq:function(e){var n=t(this);return n[e]?(n[0]=n[e],n.length=1):n.length=0,n.selector=n.selector+":eq("+e+")",n},filter:function(e){for(var n=t(this),r=0,i=0;i<n.length;i++)e(t(n[i]))&&(n[r]=n[i],r+=1);return n.length=r,n.selector=n.selector+":filter("+e+")",n},not:function(e){for(var n=t(this),r=0,i=0;i<n.length;i++)e(t(n[i]))||(n[r]=n[i],r+=1);return n.length=r,n.selector=n.selector+":not("+e+")",n}})});