<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset='utf-8'>
    <title>云笔记-遇见更好的你</title>
    <link rel="icon" href="../../../favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no,maximum-scale=1" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    <meta name="Keywords" content="云笔记-遇见更好的你" />
    <meta name="description" content="云笔记-遇见更好的你" />
    <meta name="author" content="心叶" />
    <link rel="apple-touch-icon" sizes="52x52" href="52icon.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="72icon.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="120icon.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="144icon.png" />
    <link rel="stylesheet" href="../../../style.css" class="style">
    <script src="../../../script.js"></script>
    <script>
        if (location.hostname == 'localhost' && location.hostname == '127.0.0.1') {
            document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')
        }
    </script>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-7416565268644863",
        enable_page_level_ads: true
      });
    </script>
</head>

<body class='home'>
    <header>
        <div>
            <nav>
                云笔记-遇见更好的你
                <ul>
                    <li><a href="../../../pages/web.html">前端</a></li>
                    <li><a href="../../../pages/devLanguage.html">开发语言</a></li>
                    <li><a href="../../../pages/computer.html">计算机</a></li>
                    <li><a href="../../../pages/tool.html">工具</a></li>
                    <li><a href="../../../pages/other.html">其它</a></li>
                </ul>
                <div class='yelloxing' onclick="window.location.href='../../../stepbystep.html'">
                    <div>心叶
                        <div></div>
                    </div>
                </div>
                <a href="../../../opensource.html" class='opensource' target="_black">开源项目</a>
                <a href="javascript:void(0)" onclick='alert("非常抱歉，目前没有可以演示的特效！")' class='online'>在线演示</a>
                <div class='contact'>
                    联系我们
                    <div>
                        <a href="mailto:yelloxing@gmail.com?subject=意见反馈（云笔记-只为遇见更好的你）" class='gmail'>
                            邮箱
                        </a>
                        <a href="http://wpa.qq.com/msgrd?v=3&uin=1276327934&site=云笔记-遇见更好的你&menu=yes" class='qq' target="_blank">
                            QQ
                        </a>
                        <a href="https://github.com/yelloxing" class='github' target="_blank">
                            Github
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <section id='book-content'>
        <nav>
            <div style='background-image:url("../../../image/nav/angular.png")'>
                Angular 笔记
            </div>
            <ul>
                <li><a href='quickStart.html'>Angular 快速开始</a></li>
            </ul>
        </nav>
        <div id='content'>
            <article class='notebook content'>
                <section class='section'>
                    <p class="block">
                        Angular CLI是一个命令行界面工具，它可以创建项目、添加文件以及执行一大堆开发任务，比如测试、打包和发布，这里的快速开始就是基于这个命令。
                        <span class="warn">
                开始项目前，你需要先安装node和npm，然后执行npm install -g @angular/cli安装Angular CLI。
            </span>
                    </p>
                </section>
                <section class='section'>
                    <p class='block title-flag'>
                        第一步：用命令行新建一个项目
                    </p>
                    <pre class="code">ng new newApp --skip-install
    cd newApp
    cnpm install
    ng serve --open</pre>
                    <p class="block">
                        执行上面的命令就会自动新建一个Angualr项目，并启动了项目。
                        <span class="warn">
                其中--skip-install表示node包先不安装，我们接着使用cnpm install安装会快多了。
            </span>
                    </p>
                    <p class="block little-flag">
                        目录结构
                    </p>
                    <p class="block">
                        现在来看看ng命令帮助我们生成了什么，也就是项目的目录结构，里面都是干什么的，先有个大致了解，你可以不知道全部，不过先记住下面几个个人感觉重要的：
                        <span class="list">1.src：应用代码存放的地方；</span>
                        <span class="list">2.src/app：你的代码主要存放的地方，这样说也许不合适，不过你开发的时候，大部分时间都是在修改这里的代码；</span>
                        <span class="list">3.src/assets：图片等存放的地方，构建时会复制到发布包里；</span>
                        <span class="list">4.src/main.js：你基本不会修改它，它是程序的主入口；</span>
                        <span class="list">5.src/styles.css：特别用的样式写在对应的地方，后面会说，对于公共的样式就会写在这里；</span>
                        <span class="list">6.karma.conf.js：给Karma的单元测试配置，当运行ng test时会用到它。</span>
                    </p>
                </section>
                <section class='section'>
                    <p class='block title-flag'>
                        第二步：自定义组件
                    </p>
                    <pre class='code'>import { Component } from '@angular/core';
    @Component({
        selector: 'my-comp',
        template: '&lt;ul&gt;&lt;li *ngFor='let row of dataList'>ID:{{row.id}}  INFO:{{row.info}}&lt;/li&gt;&lt;/ul&gt;',
        styles: [`ul{background-color: antiquewhite;padding-left: 10px;list-style: none;}`]
    })
    export class MyComponent {
        dataList = [{ id: 1, info: "Angular" },{ id: 2, info: "React" },{ id: 3, info: "Vue" }];
    }</pre>
                    <p class="block">
                        上面就已经定义好了一个非常简单的组件，不过在使用前，你还需要在模块中定义，此时就是src/app/app.module.ts中注册：
                    </p>
                    <pre class='code'>import { NgModule } from '@angular/core';
    import { MyComponent } from './my.component';
    @NgModule({
        declarations: [
            MyComponent
        ]
    })
    ......</pre>
                    <p class="block">
                        现在已经注册好了，你就可以使用了，上面的例子的使用方法很简单，就是自定义了一个标签my-comp，和判断的div的用法一模一样。
                        <span class="warn">
                需要注意的是，为了方便查看，在注册的例子中我去掉了无关的代码，实际情况还好有包括启动，别的组件，服务等的注册，下同。
            </span>
                    </p>
                    <p class="block">
                        类似AngularJS，Angular的selector除了上面的自定义标签，还有别的：
                        <span class="list">1.selector: 'element-name'//自定义标签选择器；</span>
                        <span class="list">2.selector: '.class'//样式选择器；</span>
                        <span class="list">3.selector: '[attribute]'//属性选择器；</span>
                        <span class="list">4.selector: '[attribute=value]'//属性值选择器；</span>
                        <span class="list">5.selector: ':not(sub_selector)'//取反选择器；</span>
                        <span class="list">6.selector: 'selector1, selector2'//多种选择器。</span>
                    </p>
                </section>
                <section class='section'>
                    <p class='block title-flag'>
                        第三步：自定义服务
                    </p>
                    <p class="block">
                        和组件一样，我们先来定义一个服务。
                    </p>
                    <pre class='code'>import { Injectable } from '@angular/core';
    export class DataFormat { id: number; info: string; }
    @Injectable()
    export class MyServ {
        getData(): DataFormat[] {
            return [{ id: 1, info: "Angular" }, { id: 2, info: "React" }, { id: 3, info: "Vue" }];
        }
    }</pre>
                    <p class="block">
                        接着来注册它，服务和组件在注册上有点不同，我们现在先注册在主组件上面吧，默认就是在arc/app/app.component.ts文件中注册：
                    </p>
                    <pre class='code'>import { Component } from '@angular/core';
    import { MyServ } from './my.service';
    @Component({
        providers: [MyServ]
    })</pre>
                    <p class="block">
                        服务的使用也很简单，我们这里用构造函数来演示一下：
                    </p>
                    <pre class='code'>import { MyServ } from './my.service';
    ......
    export class MyComponent {
        dataList: any[];
        constructor(private demoService: MyServ) {
          this.dataList = this.demoService.getData();
        }
    }</pre>
                    <p class="block">
                        还记得自定义组件的代码吗？我们就在其中演示了服务的用法，上面只给出了修改的部分代码。
                    </p>
                </section>
                <section class='section'>
                    <p class='block title-flag'>
                        第四步：路由的使用
                    </p>
                    <p class="block">
                        我们这里给出路由的一个简单用法，具体的细节和上面的类似，会单独再去讨论，这篇文章的目的就是快速入门使用。
                        <span class="warn">
                为了方便演示，我们默认已经定义好了二个组件：MyComponent和My2Component。
            </span>
                    </p>
                    <p class="block">
                        首先需要确定index.html页面的head标签中定义好了&lt;base href="/"&gt;或动态生成该元素的脚本）。
                    </p>
                    <p class="block">
                        我们先在src/app/app.module.ts中注册路由：
                    </p>
                    <pre class='code'>......
    import { RouterModule } from '@angular/router';
    @NgModule({
        declarations: [MyComponent,My2Component],
        imports: [
            RouterModule.forRoot([
                {path: 'my',component: MyComponent},
                {path: 'my2',component: My2Component}
            ])
        ]
        ......
    })
    ......</pre>
                    <p class="block">
                        使用就很简单了：
                    </p>
                    <pre class='code'>&lt;a routerLink="/my"&gt;toMycomp&lt;/a&gt;
    &lt;a routerLink="/my2"&gt;toMy2comp&lt;/a&gt;
    &lt;router-outlet&gt;&lt;/router-outlet&gt;</pre>
                    <p class="block">
                        点击toMycomp或者toMy2comp就会跳转对应的路由设置的组件了。
                    </p>
                </section>
                <section class='section'>
                    <p class='block title-flag'>
                        第五步：HTTP
                    </p>
                    <p class="block">
                        由于@angular/http库中的HttpModule保存着http相关的服务，需要先引入进来（这里是在src/app/app.module.ts中引入）：
                    </p>
                    <pre class='code'>import { HttpModule }    from '@angular/http';
    @NgModule({
        imports: [HttpModule]
    })
    ......</pre>
                    <p class="block">
                        现在，http就是一个服务，下面简单演示一种用法：
                    </p>
                    <pre class='code'>......
    import { Http } from '@angular/http';
    ......
        constructor(private http: Http) {
            http.get('assets/XXX.json').forEach(function (data) {
                console.log(data['_body']);
            });
        }
    ......</pre>
                </section>
            </article>
        </div>
    </section>
    <footer>
        <div>
            <div class='info'>
                yelloxing.github.io is sponsored by StepByStep | 本网站由【走一步 再走一步】支持
            </div>
            <div class='nav' onclick='window.location.href="https://github.com/yelloxing/yelloxing.github.io"'>
                Fork me on Github
            </div>
        </div>
    </footer>
</body>

</html>

<!--
=================================================
走一步，再走一步。
=================================================
-->
