<article class='__blog__'>
    <hgroup class='header'>
        <h1 class='title'>Transform 转换</h1>
        <h2 class='time'>2017-07-20&nbsp;&nbsp;星期四&nbsp;&nbsp;南京&nbsp;晴</h2>
    </hgroup>
    <p class='flag'>
        CSS中的图形变换越来越可控，包括2D和3D变换有非常多有趣的地方，这里主要介绍transform及相关知识，因为transitions【过渡】和animation【动画】同样有趣却相对没有那么复杂，因此在文章结尾的部分会扩展性的加以描述。
    </p>
    <section class='section block'>
        <h1 class='section title'>转换属性</h1>
        <p class='section flag'>
            下面是转换时可以设置的一些属性，用以控制转换，它们有的需要配合使用才可以看出来效果。
        </p>
        <ul>
            <li>
                <h3 class='grammer'>transform: none | transform-functions;</h3>
                <p class='flag'>
                    通过设置该属性的值，我们可以对元素使用转换，具体的属性值在下面会专门介绍。
                </p>
            </li>
            <li>
                <h3 class='grammer'>transform-origin: x-axis y-axis z-axis;</h3>
                <p class='flag'>
                    设置元素转换的中心点，最直观的例子旋转图片，改变图片选择依赖的旋转中心，见下面：
                </p>
                <div class='example frame'>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>旋转的DIV属性：</div>
                            <div>transform:rotate(-45deg);</div>
                            <div>transform-origin:50% 50%;</div>
                        </div>
                        <div class='example value'>
                            <div class='_1_one_outer _box_'>
                                <div class='_1_one_inner _box_'></div>
                            </div>
                        </div>
                    </div>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>旋转的DIV属性：</div>
                            <div>transform:rotate(-45deg);</div>
                            <div>transform-origin:100% 0%;</div>
                        </div>
                        <div class='example value'>
                            <div class='_1_two_outer _box_'>
                                <div class='_1_two_inner _box_'></div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li>
                <h3 class='grammer'>transform-style: flat | preserve-3d;</h3>
                <p class='flag'>
                    定义里面转换的元素是在2D平面呈现还是在3D空间呈现，讲的直白些，就是这个元素里面的空间维度是二维还是三维，下面是一个直观的例子：
                </p>
                <div class='example frame'>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>外面div设置：</div>
                            <div>transform-style:flat;</div>
                            <div>transform: rotateX(120deg); </div>
                            <div class='info'>内部div设置：</div>
                            <div>transform: rotateX(-45deg);</div>
                        </div>
                        <div class='example value'>
                            <div class='_2_one_outer _box_'>
                                <div class='_2_one_inner _box_'></div>
                            </div>
                        </div>
                    </div>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>外面div设置：</div>
                            <div>transform-style:preserve-3d; </div>
                            <div>transform: rotateX(120deg); </div>
                            <div class='info'>内部div设置：</div>
                            <div>transform: rotateX(-45deg);</div>
                        </div>
                        <div class='example value'>
                            <div class='_2_two_outer _box_'>
                                <div class='_2_two_inner _box_'></div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li>
                <h3 class='grammer'>perspective: number | none;</h3>
                <p class='flag'>
                    属性是定义3D元素距试图的距离，设置以后，其子元素会获得透视效果，需要注意的是该值只对3D转换有效，这也是很容易理解的。此外，还可以通过Transform的属性值的方式设置，二者是有一定区别的，你可以认为，前者是把整个看成一个舞台，后者是每一个都是一个舞台，下面是具体的一个例子：
                </p>
                <div class='example frame'>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>外面div设置：</div>
                            <div>perspective:200px; </div>
                            <div class='info'>内部div设置：</div>
                            <div>transform: rotateY(45deg);</div>
                        </div>
                        <div class='example value'>
                            <div class='_3_one_outer _box_'>
                                <div class='_3_one_inner _box_ _bg_1_'></div>
                                <div class='_3_one_inner _box_ _bg_2_'></div>
                                <div class='_3_one_inner _box_ _bg_3_'></div>
                            </div>
                        </div>
                    </div>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>内部div设置：</div>
                            <div>transform: perspective(200px) rotateY(45deg);</div>
                        </div>
                        <div class='example value'>
                            <div class='_3_two_outer _box_'>
                                <div class='_3_two_inner _box_ _bg_1_'></div>
                                <div class='_3_two_inner _box_ _bg_2_'></div>
                                <div class='_3_two_inner _box_ _bg_3_'></div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li>
                <h3 class='grammer'>perspective-origin: x-axis y-axis;</h3>
                <p class='flag'>
                    必须和perspective一起使用，只对3D转换元素有效，简单的理解就是你的眼睛看的焦点，下面用一个例子来说明：
                </p>
                <div class='example frame'>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>外面div设置：</div>
                            <div>perspective:300px;perspective-origin: 50% 50%;</div>
                            <div class='info'>内部div设置：</div>
                            <div>transform:rotateX(45deg);</div>
                        </div>
                        <div class='example value'>
                            <div class='_4_one_outer _box_'>
                                <div class='_4_one_inner _box_'></div>
                            </div>
                        </div>
                    </div>
                    <div class='example block'>
                        <div class='example key'>
                            <div class='info'>外面div设置：</div>
                            <div>perspective:300px;perspective-origin: 50% 270%;</div>
                            <div class='info'>内部div设置：</div>
                            <div>transform:rotateX(45deg);</div>
                        </div>
                        <div class='example value'>
                            <div class='_4_two_outer _box_'>
                                <div class='_4_two_inner _box_'></div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li>
                <h3 class='grammer'>backface-visibility:hidden | visible;</h3>
                <p class='flag'>
                    这个很简单，设置当元素背对着屏幕时候，是否是可见的。
                </p>
            </li>
        </ul>
    </section>
    <section class='section block'>
        <h1 class='section title'>Transform 方法</h1>
        <p class='section flag'>
            transform方法大部分都比较容易理解，下面大致说明一下。
        </p>
        <ul>
            <li>
                <div class=' little key'>matrix(a,b,c,d,e,f)</div>
                <div class='little value'>定义 2D 转换，使用六个值的矩阵。</div>
            </li>
            <li>
                <div class=' little key'>matrix3d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p) </div>
                <div class='little value'>定义 3D 转换，使用 16 个值的 4x4 矩阵。 </div>
            </li>
            <li>
                <div class=' little key'>translate(x,y) </div>
                <div class='little value'>定义 2D 转换。 </div>
            </li>
            <li>
                <div class=' little key'>translate3d(x,y,z) </div>
                <div class='little value'>定义 3D 转换。 </div>
            </li>
            <li>
                <div class=' little key'>translateX(x) </div>
                <div class='little value'>定义转换，只是用 X 轴的值。 </div>
            </li>
            <li>
                <div class=' little key'>translateY(y) </div>
                <div class='little value'>定义转换，只是用 Y 轴的值。 </div>
            </li>
            <li>
                <div class=' little key'>translateZ(z) </div>
                <div class='little value'>定义 3D 转换，只是用 Z 轴的值。 </div>
            </li>
            <li>
                <div class=' little key'>scale(x,y) </div>
                <div class='little value'>定义 2D 缩放转换。</div>
            </li>
            <li>
                <div class=' little key'>scale3d(x,y,z) </div>
                <div class='little value'>定义 3D 缩放转换。 </div>
            </li>
            <li>
                <div class=' little key'>scaleX(x) </div>
                <div class='little value'>通过设置 X 轴的值来定义缩放转换。</div>
            </li>
            <li>
                <div class=' little key'>scaleY(y) </div>
                <div class='little value'>通过设置 Y 轴的值来定义缩放转换。</div>
            </li>
            <li>
                <div class=' little key'>scaleZ(z) </div>
                <div class='little value'>通过设置 Z 轴的值来定义 3D 缩放转换。 </div>
            </li>
            <li>
                <div class=' little key'>rotate(angle) </div>
                <div class='little value'>定义 2D 旋转，在参数中规定角度。</div>
            </li>
            <li>
                <div class=' little key'>rotate3d(x,y,z,angle) </div>
                <div class='little value'>定义 3D 旋转。 </div>
            </li>
            <li>
                <div class=' little key'>rotateX(angle) </div>
                <div class='little value'>定义沿着 X 轴的 3D 旋转。</div>
            </li>
            <li>
                <div class=' little key'>rotateY(angle) </div>
                <div class='little value'>定义沿着 Y 轴的 3D 旋转。 </div>
            </li>
            <li>
                <div class=' little key'>rotateZ(angle) </div>
                <div class='little value'>定义沿着 Z 轴的 3D 旋转。 </div>
            </li>
            <li>
                <div class=' little key'>skew(x-angle,y-angle) </div>
                <div class='little value'>定义沿着 X 和 Y 轴的 2D 倾斜转换。</div>
            </li>
            <li>
                <div class=' little key'>skewX(angle) </div>
                <div class='little value'>定义沿着 X 轴的 2D 倾斜转换。 </div>
            </li>
            <li>
                <div class=' little key'>skewY(angle) </div>
                <div class='little value'>定义沿着 Y 轴的 2D 倾斜转换。 </div>
            </li>
            <li>
                <div class=' little key'>perspective(n) </div>
                <div class='little value'>为 3D 转换元素定义透视视图。</div>
            </li>
        </ul>
    </section>
    <section class='section block'>
        <h1 class='section title'>Transitions 过渡</h1>
        <h3 class='grammer'>transition: property duration timing-function delay;</h3>
        <p class='flag'>
            请始终设置 transition-duration 属性，否则时长为 0，就不会产生过渡效果。上面是统一设置，也可以分别设置各个属性：
        </p>
        <ul>
            <li>
                <div class=' little key'>transition-property</div>
                <div class='little value'>规定设置过渡效果的 CSS 属性的名称。</div>
            </li>
            <li>
                <div class=' little key'>transition-duration</div>
                <div class='little value'>规定完成过渡效果需要多少秒或毫秒。</div>
            </li>
            <li>
                <div class=' little key'>transition-timing-function</div>
                <div class='little value'>规定速度效果的速度曲线。</div>
            </li>
            <li>
                <div class=' little key'>transition-delay</div>
                <div class='little value'>定义过渡效果何时开始。</div>
            </li>
        </ul>
        <p class='flag'>
            说再多都不如一个例子，下面是一个简单的例子：
        </p>
        <div class='example frame'>
            <div class='example block'>
                <div class='example key'>
                    <div class='info'>div设置：</div>
                    <div>width: 100px;</div>
                    <div>height: 100px; </div>
                    <div>background-color:#3ce5da;</div>
                    <div>transition-property: width background-color;</div>
                    <div>transition-duration: 3s;</div>
                    <div>transition-timing-function: linear;</div>
                    <div>transition-delay: 1s;</div>
                    <div class='info'>div悬浮设置：</div>
                    <div>width: 300px;</div>
                    <div>background-color: #7623ca;</div>
                </div>
                <div class='example value'>
                    <div class='_5_one _box_'>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class='section block'>
        <h1 class='section title'>Animation 动画</h1>
        <h3 class='grammer'>animation: name duration timing-function delay iteration-count direction;</h3>
        <p class='flag'>
            请始终规定 animation-duration 属性，否则时长为 0，就不会播放动画了。上面是统一设置，也可以分别设置各个属性：
        </p>
        <ul>
            <li>
                <div class=' little key'>animation-name</div>
                <div class='little value'>规定需要绑定到选择器的 keyframe 名称。</div>
            </li>
            <li>
                <div class=' little key'>animation-duration</div>
                <div class='little value'>规定完成动画所花费的时间，以秒或毫秒计。</div>
            </li>
            <li>
                <div class=' little key'>animation-timing-function</div>
                <div class='little value'>规定动画的速度曲线。</div>
            </li>
            <li>
                <div class=' little key'>animation-delay</div>
                <div class='little value'>规定在动画开始之前的延迟。</div>
            </li>
            <li>
                <div class=' little key'>animation-iteration-count</div>
                <div class='little value'>规定动画应该播放的次数。</div>
            </li>
            <li>
                <div class=' little key'>animation-direction</div>
                <div class='little value'>规定是否应该轮流反向播放动画。</div>
            </li>
        </ul>
        <p class='flag'>
            说再多都不如一个例子，下面是一个简单的例子：
        </p>
        <div class='example frame'>
            <div class='example block'>
                <div class='example key'>
                    <div class='info'>div设置：</div>
                    <div>animation: move_right 5s infinite;</div>
                </div>
                <div class='example value'>
                    <div class='_6_one _box_'>
                    </div>
                </div>
            </div>
        </div>
        <p class='flag'>
            除了上面介绍的属性，还有一些比较有趣的属性，这里介绍一下：
            <h3 class='grammer'>animation-fill-mode : none | forwards | backwards | both;</h3>
            <p class='flag'>
                规定动画在播放之前或之后，其动画效果是否可见。
            </p>
            <h3 class='grammer'>animation-play-state: paused|running;</h3>
            <p class='flag'>
                规定动画正在运行还是暂停，可以在 JavaScript 中使用该属性，这样就能在播放过程中暂停动画。
            </p>
        </p>

    </section>
</article>
<style type='text/css'>
    ._box_ {
        width: 100px;
        height: 100px;
    }
    
    ._bg_1_ {
        background-color: #62c1d4;
    }
    
    ._bg_2_ {
        background-color: #4cf36d;
    }
    
    ._bg_3_ {
        background-color: #e745ce;
    }
    /*
---------------------1
*/
    
    ._1_one_outer,
    ._1_two_outer {
        background-color: #e8e7a4;
        margin-bottom: 50px;
    }
    
    ._1_one_inner,
    ._1_two_inner {
        transform: rotate(-45deg);
        background-color: #4dcfd2;
    }
    
    ._1_one_inner {
        transform-origin: 50% 50%;
    }
    
    ._1_two_inner {
        transform-origin: 100% 0%;
    }
    /*
---------------------2
  */
    
    ._2_one_outer,
    ._2_two_outer {
        background-color: #e8e7a4;
        transform: rotateX(120deg);
    }
    
    ._2_one_inner,
    ._2_two_inner {
        transform: rotateX(-45deg);
        background-color: #4dcfd2;
        margin-left: 30px;
    }
    
    ._2_one_outer {
        transform-style: flat;
    }
    
    ._2_two_outer {
        transform-style: preserve-3d;
    }
    /*
---------------------3
  */
    
    ._3_one_outer,
    ._3_two_outer {
        background-color: #e8e7a4;
        width: 300px;
    }
    
    ._3_one_outer {
        perspective: 200px;
    }
    
    ._3_one_inner {
        transform: rotateY(45deg);
    }
    
    ._3_two_inner {
        transform: perspective(200px) rotateY(45deg);
    }
    
    ._3_one_inner,
    ._3_two_inner {
        width: 50px;
        height: 50px;
        display: inline-block;
        margin-top: 20px;
        margin-left: 26px;
    }
    /*
---------------------4
  */
    
    ._4_one_outer,
    ._4_two_outer {
        background-color: #e8e7a4;
        width: 300px;
    }
    
    ._4_one_inner,
    ._4_two_inner {
        transform: rotateX(45deg);
        background-color: #4dcfd2;
        margin-left: 100px;
    }
    
    ._4_one_outer {
        perspective: 300px;
        perspective-origin: 50% 50%;
    }
    
    ._4_two_outer {
        perspective: 300px;
        perspective-origin: 50% 270%;
    }
    /*
---------------------5
  */
    
    ._5_one {
        width: 100px;
        height: 100px;
        background-color: #3ce5da;
        transition-property: width background-color;
        transition-duration: 3s;
        transition-timing-function: linear;
        transition-delay: 1s;
    }
    
    ._5_one:hover {
        width: 300px;
        background-color: #7623ca;
    }
    /*
---------------------6
  */
    
    ._6_one {
        background-color: #3ce5da;
        animation: move_right 5s infinite;
        position: relative;
    }
    
    @keyframes move_right {
        from {
            left: 0px;
        }
        to {
            left: 200px;
        }
    }
</style>